{"version":3,"sources":["components/CurrentPrice.js","components/Prices.js","components/TodaysPrices.js","components/TomorrowsPrices.js","components/GetToken.js","App.js","index.js"],"names":["CurrentPrice","currentPrice","useState","price","setPrice","date","setDate","time","setTime","useEffect","newTime","i","getCurrentTime","newDate","getCurrentDate","className","id","ChartJS","register","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","Prices","todaysPrices","tomorrowsPrices","data","labels","Array","from","length","e","datasets","label","days","borderColor","backgroundColor","options","maintainAspectRatio","TodaysPrices","console","log","prices","TomorrowsPrices","GetToken","setToken","input","setInput","type","placeholder","value","onChange","target","onClick","document","cookie","App","setCurrentPrice","setTodaysPrices","setTomorrowsPrices","separate","setSeparate","token","query","handleData","a","fetch","method","headers","Authorization","body","JSON","stringify","then","res","json","error","cookieValue","split","find","row","startsWith","getPrices","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d1ae7a7e.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './CurrentPrice.css';\n\nconst CurrentPrice = ({ currentPrice }) => {\n\tconst [price, setPrice] = useState(null);\n\tconst [date, setDate] = useState(null);\n\tconst [time, setTime] = useState(null);\n\n\tconst getCurrentPrice = () => {\n\t\tsetPrice(currentPrice['total']);\n\t};\n\n\tconst getCurrentDate = () => {\n\t\tlet newDate = '';\n\t\tfor (let i = 0; i < 10; i++) {\n\t\t\tnewDate = newDate + currentPrice['startsAt'][i];\n\t\t}\n\t\tsetDate(newDate);\n\t};\n\n\tconst getCurrentTime = () => {\n\t\tlet newTime = '';\n\t\tfor (let i = 11; i < 16; i++) {\n\t\t\tnewTime = newTime + currentPrice['startsAt'][i];\n\t\t}\n\t\tsetTime(newTime);\n\t};\n\n\tuseEffect(() => {\n\t\tgetCurrentPrice();\n\t\tgetCurrentTime();\n\t\tgetCurrentDate();\n\t}, []);\n\treturn (\n\t\t<div className='currentPrice'>\n\t\t\t<h2 id={price > 3 ? 'highPrice' : ''}>{price}kr</h2>\n\t\t\t<h4>\n\t\t\t\tat {time} on {date}\n\t\t\t</h4>\n\t\t</div>\n\t);\n};\n\nexport default CurrentPrice;\n","import React from 'react';\nimport { Line } from 'react-chartjs-2';\nimport {\n\tChart as ChartJS,\n\tCategoryScale,\n\tLinearScale,\n\tPointElement,\n\tLineElement,\n\tTitle,\n\tTooltip,\n\tLegend,\n} from 'chart.js';\nimport './Prices.css';\n\nChartJS.register(\n\tCategoryScale,\n\tLinearScale,\n\tPointElement,\n\tLineElement,\n\tTitle,\n\tTooltip,\n\tLegend\n);\n\nconst Prices = ({ todaysPrices, tomorrowsPrices }) => {\n\tconst labels = Array.from({ length: 24 }, (e, i) => i);\n\n\tconst todaysPriceArr = Array.from(todaysPrices, (days) => {\n\t\treturn days['total'];\n\t});\n\tconst tomorrowsPriceArr = Array.from(tomorrowsPrices, (days) => {\n\t\treturn days['total'];\n\t});\n\n\tconst data = {\n\t\tlabels,\n\t\tdatasets: [\n\t\t\t{\n\t\t\t\tlabel: \"Today's Prices\",\n\t\t\t\tdata: todaysPriceArr,\n\t\t\t\tborderColor: 'rgb(255, 99, 132)',\n\t\t\t\tbackgroundColor: 'rgba(255, 99, 132, 0.5)',\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: \"Tomorrow's Prices\",\n\t\t\t\tdata: tomorrowsPriceArr,\n\t\t\t\tborderColor: 'rgb(53, 162, 235)',\n\t\t\t\tbackgroundColor: 'rgba(53, 162, 235, 0.5)',\n\t\t\t},\n\t\t],\n\t};\n\treturn (\n\t\t<div className='prices'>\n\t\t\t{data && (\n\t\t\t\t<div className='chartContainer' id='join'>\n\t\t\t\t\t<Line data={data} options={{ maintainAspectRatio: false }} />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Prices;\n","import React from 'react';\nimport { Line } from 'react-chartjs-2';\nimport {\n\tChart as ChartJS,\n\tCategoryScale,\n\tLinearScale,\n\tPointElement,\n\tLineElement,\n\tTitle,\n\tTooltip,\n\tLegend,\n} from 'chart.js';\nimport './TodaysPrices.css';\n\nChartJS.register(\n\tCategoryScale,\n\tLinearScale,\n\tPointElement,\n\tLineElement,\n\tTitle,\n\tTooltip,\n\tLegend\n);\n\nconst TodaysPrices = ({ todaysPrices }) => {\n\tconst labels = Array.from({ length: 24 }, (e, i) => i);\n\tconsole.log(labels);\n\n\tconst prices = Array.from(todaysPrices, (days) => {\n\t\treturn days['total'];\n\t});\n\tconsole.log(prices);\n\n\tconst data = {\n\t\tlabels,\n\t\tdatasets: [\n\t\t\t{\n\t\t\t\tlabel: \"Today's Prices\",\n\t\t\t\tdata: prices,\n\t\t\t\tborderColor: 'rgb(255, 99, 132)',\n\t\t\t\tbackgroundColor: 'rgba(255, 99, 132, 0.5)',\n\t\t\t},\n\t\t],\n\t};\n\treturn (\n\t\t<div className='todaysPrices'>\n\t\t\t{data && (\n\t\t\t\t<div className='chartContainer'>\n\t\t\t\t\t<Line data={data} options={{ maintainAspectRatio: true }} />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default TodaysPrices;\n","import React from 'react';\nimport { Line } from 'react-chartjs-2';\nimport {\n\tChart as ChartJS,\n\tCategoryScale,\n\tLinearScale,\n\tPointElement,\n\tLineElement,\n\tTitle,\n\tTooltip,\n\tLegend,\n} from 'chart.js';\nimport './TomorrowsPrices.css';\n\nChartJS.register(\n\tCategoryScale,\n\tLinearScale,\n\tPointElement,\n\tLineElement,\n\tTitle,\n\tTooltip,\n\tLegend\n);\n\nconst TomorrowsPrices = ({ tomorrowsPrices }) => {\n\tconst labels = Array.from({ length: 24 }, (e, i) => i);\n\tconsole.log(labels);\n\n\tconst prices = Array.from(tomorrowsPrices, (days) => {\n\t\treturn days['total'];\n\t});\n\tconsole.log(prices);\n\n\tconst data = {\n\t\tlabels,\n\t\tdatasets: [\n\t\t\t{\n\t\t\t\tlabel: \"Tomorrow's Prices\",\n\t\t\t\tdata: prices,\n\t\t\t\tborderColor: 'rgb(53, 162, 235)',\n\t\t\t\tbackgroundColor: 'rgba(53, 162, 235, 0.5)',\n\t\t\t},\n\t\t],\n\t};\n\treturn (\n\t\t<div className='tomorrowsPrices'>\n\t\t\t{data && (\n\t\t\t\t<div className='chartContainer'>\n\t\t\t\t\t<Line data={data} options={{ maintainAspectRatio: true }} />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default TomorrowsPrices;\n","import './GetToken.css';\nimport React, { useState, useEffect } from 'react';\n\nconst GetToken = ({ setToken }) => {\n\tconst [input, setInput] = useState('');\n\n\tconst saveToken = () => {\n\t\tdocument.cookie = 'Token=' + input;\n\t\tsetToken(input);\n\t\tsetInput(null);\n\t};\n\n\treturn (\n\t\t<div className='inputContainer'>\n\t\t\t<input\n\t\t\t\ttype='text'\n\t\t\t\tplaceholder='Insert token'\n\t\t\t\tvalue={input}\n\t\t\t\tonChange={(e) => {\n\t\t\t\t\tsetInput(e.target.value);\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<button\n\t\t\t\ttype='submit'\n\t\t\t\tvalue='save token'\n\t\t\t\tclassName='separationButton'\n\t\t\t\tonClick={() => saveToken()}\n\t\t\t>\n\t\t\t\tSave token\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n\nexport default GetToken;\n","import './App.css';\nimport CurrentPrice from './components/CurrentPrice';\nimport Prices from './components/Prices';\nimport TodaysPrices from './components/TodaysPrices';\nimport TomorrowsPrices from './components/TomorrowsPrices';\nimport GetToken from './components/GetToken';\nimport React, { useState, useEffect } from 'react';\n\nfunction App() {\n\tconst [currentPrice, setCurrentPrice] = useState(null);\n\tconst [todaysPrices, setTodaysPrices] = useState(null);\n\tconst [tomorrowsPrices, setTomorrowsPrices] = useState(null);\n\tconst [separate, setSeparate] = useState(false);\n\tconst [token, setToken] = useState(null);\n\n\tconst doSeparation = () => {\n\t\tif (separate) {\n\t\t\tsetSeparate(false);\n\t\t} else {\n\t\t\tsetSeparate(true);\n\t\t}\n\t};\n\n\tconst query = `query{\n\t\tviewer {\n\t\t\thomes {\n\t\t\t\tcurrentSubscription{\n\t\t\t\t\tpriceInfo{\n\t\t\t\t\t\tcurrent{\n\t\t\t\t\t\t\ttotal\n\t\t\t\t\t\t\tenergy\n\t\t\t\t\t\t\ttax\n\t\t\t\t\t\t\tstartsAt\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttoday {\n\t\t\t\t\t\t\ttotal\n\t\t\t\t\t\t\tenergy\n\t\t\t\t\t\t\ttax\n\t\t\t\t\t\t\tstartsAt\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttomorrow {\n\t\t\t\t\t\t\ttotal\n\t\t\t\t\t\t\tenergy\n\t\t\t\t\t\t\ttax\n\t\t\t\t\t\t\tstartsAt\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n  }`;\n\n\tfunction handleData(data) {\n\t\tconsole.log(data);\n\t\tif (data) {\n\t\t\tsetTodaysPrices(\n\t\t\t\tdata['viewer']['homes'][0]['currentSubscription']['priceInfo']['today']\n\t\t\t);\n\t\t\tsetTomorrowsPrices(\n\t\t\t\tdata['viewer']['homes'][0]['currentSubscription']['priceInfo'][\n\t\t\t\t\t'tomorrow'\n\t\t\t\t]\n\t\t\t);\n\t\t\tsetCurrentPrice(\n\t\t\t\tdata['viewer']['homes'][0]['currentSubscription']['priceInfo'][\n\t\t\t\t\t'current'\n\t\t\t\t]\n\t\t\t);\n\t\t}\n\t}\n\n\tasync function getPrices() {\n\t\tif (token) {\n\t\t\ttry {\n\t\t\t\tconsole.log('Submitting');\n\t\t\t\tlet response = fetch('https://api.tibber.com/v1-beta/gql', {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: 'Bearer ' + token,\n\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t},\n\t\t\t\t\tbody: JSON.stringify({ query }),\n\t\t\t\t});\n\t\t\t\tresponse\n\t\t\t\t\t.then((res) => res.json())\n\t\t\t\t\t.then((data) => handleData(data['data']));\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error);\n\t\t\t}\n\t\t}\n\t}\n\n\tconst clearToken = () => {\n\t\tsetToken(null);\n\t\tdocument.cookie = 'Token=';\n\t};\n\n\tuseEffect(() => {\n\t\tif (document.cookie) {\n\t\t\tconst cookieValue = document.cookie\n\t\t\t\t.split('; ')\n\t\t\t\t.find((row) => row.startsWith('Token'))\n\t\t\t\t.split('=')[1];\n\t\t\tif (cookieValue) {\n\t\t\t\tsetToken(cookieValue);\n\t\t\t}\n\t\t}\n\t}, []);\n\n\tuseEffect(() => {\n\t\tgetPrices();\n\t}, [token]);\n\n\tuseEffect(() => {\n\t\tconsole.log(currentPrice);\n\t\tconsole.log(todaysPrices);\n\t\tconsole.log(tomorrowsPrices);\n\t}, [currentPrice]);\n\n\treturn (\n\t\t<div className='App'>\n\t\t\t{!token && <GetToken setToken={setToken} />}\n\t\t\t{token && currentPrice && <CurrentPrice currentPrice={currentPrice} />}\n\t\t\t{token && todaysPrices && tomorrowsPrices && !separate && (\n\t\t\t\t<Prices todaysPrices={todaysPrices} tomorrowsPrices={tomorrowsPrices} />\n\t\t\t)}\n\t\t\t{token && todaysPrices && separate && (\n\t\t\t\t<TodaysPrices todaysPrices={todaysPrices} />\n\t\t\t)}\n\t\t\t{token && tomorrowsPrices && separate && (\n\t\t\t\t<TomorrowsPrices tomorrowsPrices={tomorrowsPrices} />\n\t\t\t)}\n\n\t\t\t{token && tomorrowsPrices && tomorrowsPrices.length > 0 && (\n\t\t\t\t<button\n\t\t\t\t\tclassName={'separationButton'}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tdoSeparation();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{separate ? 'Join' : 'Separate'}\n\t\t\t\t</button>\n\t\t\t)}\n\n\t\t\t{token && (\n\t\t\t\t<button className={'separationButton'} onClick={() => clearToken()}>\n\t\t\t\t\tClear token\n\t\t\t\t</button>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}